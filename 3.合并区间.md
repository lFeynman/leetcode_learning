## 3.合并区间

### 原题链接:https://leetcode.cn/leetbook/read/array-and-string/c5tv3/

**题目描述**:

```
以数组 intervals 表示若干个区间的集合，其中单个区间为 intervals[i] = [starti, endi] 。请你合并所有重叠的区间，并返回 一个不重叠的区间数组，该数组需恰好覆盖输入中的所有区间 。
```

**思路:**

```
先将intervals数组的区间起始端排序,然后判断有无交叉,有的话则更新区间末端,没有的话则添加进结果
优化:去掉预取,避免切片
```

**代码:**

```python
class Solution:
    def merge(self, intervals: List[List[int]]) -> List[List[int]]:
        #处理空输入
        if not intervals:
            return []
        
        intervals.sort(key=lambda x:x[0])
        merged=[intervals[0]]
        for current in intervals[1:]:
            last=merged[-1]
            if current[0]<=last[1]:
                last[1]=max(current[1],last[1])
            else:
                merged.append(current)
        return merged
#优化:
class Solution:
    def merge(self, intervals: List[List[int]]) -> List[List[int]]:
        intervals.sort(key=lambda x:x[0])
        merged=[]
        for interval in intervals:
            if not merged or merged[-1][1]<interval[0]:
                merged.append(interval)
            else:
                merged[-1][1]=max(merged[-1][1],interval[1])
        return merged
```

